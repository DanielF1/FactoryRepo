<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <link href="../resources/css/bootstrap.min.css" rel="stylesheet" />
</head>


<body>
<div class="main-wrapper">
	<!-- Header -->
	<div class="header">
		<div class="header-title">Cognac Shop <br/>Feuerwasser</div>
	</div>
	<!-- /Header -->

	<!-- Container -->
	<div class="main-container content">
		<div class="col-lg-12">
			<div class="row">
				<div class="col-lg-7">	</div>
				<div class="col-lg-5">	

					<!-- Log in / Log out navigation -->
					
					<form class="form-inline" role="form" th:action="@{/login}" method="post" >
					 	<div class="form-group" sec:authorize="!isAuthenticated()">
					   		<label class="sr-only" for="username">Username</label>
					    	<input type="text" class="form-control" id="username" name="username" 
					    		autofocus="autofocus" placeholder="Username" />
					  	</div>
					 	<div class="form-group" sec:authorize="!isAuthenticated()">
					    	<label for="password" class="sr-only">Password</label>
					    	<input type="password" class="form-control" id="password" 
					    	name="password" placeholder="Password" />
					  	</div>
					  	<button type="submit" class="btn btn-default loginlogout" sec:authorize="!isAuthenticated()">
					  		Log in</button>
					  	<button type="submit" class="btn btn-default loginlogout" sec:authorize="isAuthenticated()">
					  		Log out</button>
					</form>

					<!-- Log in / Log out navigation -->

				</div>
			</div>

			<div class="row">
				<div class="col-lg-2"></div>

				<div class="col-lg-8">
					<ul class="nav nav-pills">
						<li role="presentation" class="active"><a href="index.html">Home</a></li>
						<li role="presentation"><a href="sortiment.html">Sortiment</a></li>

						<!-- Advanced administrator navigation -->
						
							<li role="presentation" class="salespoint" sec:authorize="hasRole('ROLE_ADMIN')">
							<a href="warenkorb.html">Warenkorb</a>
						</li>
						
						<li role="presentation" class="salespoint" sec:authorize="hasRole('ROLE_ADMIN')">
							<a href="orders.html">Bestellungen</a>
						</li>
						
						<li role="presentation" class="dropdown salespoint" sec:authorize="hasRole('ROLE_ADMIN')">
					   		<a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-expanded="true">
					      		Standort <span class="caret"></span>
					    	</a>
					    	<ul class="dropdown-menu" role="menu">
						    	<li><a href="addLocation.html">Standort hinzufügen</a></li>
						    	<li><a href="adminLocList.html">Standortübersicht</a></li>
							</ul>
						</li>

						<li role="presentation" class="salespoint" sec:authorize="hasRole('ROLE_ADMIN')">
							<a href="employeeList.html">Mitarbeiterübersicht</a>
						</li>

						<li role="presentation" class="salespoint" sec:authorize="hasRole('ROLE_ADMIN')">
							<a href="locationwithwine.html">Weinmenge</a>
						</li>
						
						
						<!-- /Advanced administrator navigation -->


						<!-- Advanced salesman navigation -->
						<li role="presentation" class="salespoint" sec:authorize="hasRole('ROLE_SALESMAN')">
							<a href="orders.html">Bestellungen</a>
						</li>

						<li role="presentation" class="salespoint" sec:authorize="hasRole('ROLE_SALESMAN')">
							<a href="register.html">Register new Customer</a>
						</li>
						<!-- /Advanced salesman navigation -->


						<!-- Advanced brewer navigation -->
						<li role="presentation" class="salespoint" sec:authorize="hasRole('ROLE_BREWER')">
							<a href="cookbook.html">Rezepte</a>
						</li>

						<li role="presentation" class="salespoint" sec:authorize="hasRole('ROLE_BREWER')">
							<a href="BarrelList.html">BarrelList</a>
						</li>
						<!-- /Advanced brewer navigation -->


						<!-- Advanced barrelmaker navigation -->
						<li role="presentation" class="salespoint" sec:authorize="hasRole('ROLE_BARRELMAKER')">
							<a href="BarrelList.html">BarrelList</a>
						</li>
						<!-- /Advanced barrelmaker navigation -->


						<!-- Advanced winegrower navigation -->
						<li role="presentation" class="salespoint" sec:authorize="hasRole('ROLE_WINEGROWER')">
							<a href="http://localhost:8080/form">Weinanlieferung</a>
						</li>

						<li role="presentation" class="salespoint" sec:authorize="hasRole('ROLE_WINEGROWER')">
							<a href="locationwithwine">Weinmenge</a>
						</li>
						<!-- /Advanced winegrower navigation -->
					</ul>
				</div>

				<div class="col-lg-2"></div>
			</div>

			<div class="row">
				<div class="col-lg-1">	</div>
				<div class="col-lg-9">
					<table class="table table-condensed">
						<tr class="success">	
							<th>Name</th>
							<th>Addresse</th>
							<th>PLZ Ort</th>
							<th>Tel.</th>
							<th>E-Mail</th>
							<th>Mitarbeiter</th>
							<th>Abteilungen</th>
							<th></th>
							<th></th>
							<th>
								<div class="search-group">
									<form method="post" role="form" th:action="@{/adminLocList}">
										<input name="searchTerm" type="text" placeholder="Search"/>
										<input type="hidden" value="Senden" />
									</form>
								</div>	
							</th>
						</tr>
						<tr th:each="loc : ${locations} ">
							<td th:text="${loc.name}">Name</td>
							<td th:text="${loc.address}">Straße</td>
							<td th:text="${loc.city}">Ort</td>
							<td th:text="${loc.telefon}">Telefon</td>
							<td th:text="${loc.mail}">E-Mail</td>

							<td>
								<ul th:each="employee : ${loc.employees}" style="list-style-type:none">
									<li>
										<span th:text="${employee.workplace}"></span>		
									</li>
								</ul>
							</td>

							<td>
								<ul th:each="department : ${loc.departments}" style="list-style-type:none">
									<li>
										<span th:text="${department.name}"></span>			
									</li>
								</ul>
							</td>

							<td>
								<form method="get" role="form" th:action="@{/editLocation/} + ${loc.id}">
									<button class="btn btn-default" type="submit">Standort bearbeiten</button>
								</form>
							</td>
					
							<td>
								<form method="get" role="form" th:action="@{/employees/} + ${loc.id}">
									<button class="btn btn-default" type="submit">Mitarbeiteransicht</button>
								</form>
							</td>
					
							<td>
								<form method="get" role="form" th:action="@{/editDepartments/} + ${loc.id}">
									<button class="btn btn-default" type="submit">Abteilungsansicht</button>
								</form>
							</td>
						</tr>
					</table>
				</div>

				<div class="col-lg-2">	</div>
			</div>

		</div>
	</div>
	<!-- /Container -->

</div>

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="../resources/js/bootstrap.min.js"></script>
</body>
</html>